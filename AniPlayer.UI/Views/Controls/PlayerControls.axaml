<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="1000" d:DesignHeight="120"
             x:Class="AniPlayer.UI.PlayerControls">

    <Border Background="{DynamicResource BgSurface}"
            BorderBrush="{DynamicResource BgBase}"
            BorderThickness="0,1,0,0"
            Padding="20,16">
        <Grid RowDefinitions="Auto,Auto">
            
            <!-- Row 0: Progress Bar -->
            <Grid ColumnDefinitions="Auto,*,Auto" Margin="0,0,0,16">
                <TextBlock x:Name="TimeCurrentText" Text="0:00"
                           Foreground="{DynamicResource TextSecondary}" FontSize="12" FontWeight="Medium"
                           VerticalAlignment="Center" Margin="0,0,12,0"/>
                
                <Slider x:Name="ProgressSlider" Grid.Column="1"
                        Minimum="0" Maximum="100" Value="0"
                        VerticalAlignment="Center"
                        Focusable="False"/>
                
                <TextBlock x:Name="TimeTotalText" Text="0:00"
                           Foreground="{DynamicResource TextSecondary}" FontSize="12" FontWeight="Medium"
                           VerticalAlignment="Center" Margin="12,0,0,0" Grid.Column="2"/>
            </Grid>

            <!-- Row 1: Controls -->
            <Grid Grid.Row="1" ColumnDefinitions="*,Auto,*">
                
                <!-- Left: Now Playing -->
                <StackPanel VerticalAlignment="Center" Spacing="2">
                    <TextBlock x:Name="NowPlayingText"
                               Text="No file loaded"
                               Foreground="{DynamicResource TextPrimary}" FontSize="14" FontWeight="Medium"
                               TextTrimming="CharacterEllipsis" MaxWidth="300"/>
                    <TextBlock x:Name="StatusText" Text="Stopped"
                               Foreground="{DynamicResource TextSecondary}" FontSize="11" Opacity="0.6"/>
                </StackPanel>

                <!-- Center: Transport -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8">
                    <Button x:Name="PreviousButton" Width="40" Height="40" Padding="0" Background="Transparent">
                        <PathIcon Data="{DynamicResource IconPrevious}" Width="18" Height="18"/>
                    </Button>
                    
                    <Button x:Name="PlayPauseButton" Classes="Primary" Width="50" Height="50" Padding="0" CornerRadius="25">
                        <PathIcon x:Name="PlayPauseIcon" Data="{DynamicResource IconPlay}" Width="24" Height="24" Foreground="White"/>
                    </Button>
                    
                    <Button x:Name="StopButton" Width="40" Height="40" Padding="0" Background="Transparent">
                        <PathIcon Data="{DynamicResource IconStop}" Width="18" Height="18"/>
                    </Button>
                    
                    <Button x:Name="NextButton" Width="40" Height="40" Padding="0" Background="Transparent">
                        <PathIcon Data="{DynamicResource IconNext}" Width="18" Height="18"/>
                    </Button>
                </StackPanel>

                <!-- Right: Volume & Options -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="16" HorizontalAlignment="Right">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <PathIcon Data="{DynamicResource IconVolume}" Width="18" Height="18" Foreground="{DynamicResource TextSecondary}"/>
                        <Slider x:Name="VolumeSlider" Width="100" Minimum="0" Maximum="100" Value="100"/>
                    </StackPanel>
                    
                    <Button x:Name="FullscreenButton" Width="40" Height="40" Padding="0" Background="Transparent">
                        <PathIcon Data="{DynamicResource IconFullscreen}" Width="18" Height="18"/>
                    </Button>
                </StackPanel>
                
            </Grid>
        </Grid>
    </Border>
</UserControl>
