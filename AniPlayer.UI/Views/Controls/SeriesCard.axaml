<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="160" d:DesignHeight="280"
             x:Class="AniPlayer.UI.SeriesCard"
             Margin="4" Cursor="Hand">

    <UserControl.Styles>
        <Style Selector="Border#MainBorder">
            <Setter Property="Transitions">
                <Transitions>
                    <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.2" Easing="CubicEaseOut"/>
                </Transitions>
            </Setter>
        </Style>
        <Style Selector="Border#MainBorder:pointerover">
            <Setter Property="RenderTransform" Value="scale(1.05)"/>
        </Style>
    </UserControl.Styles>

    <Border x:Name="MainBorder" CornerRadius="{DynamicResource RadiusM}" ClipToBounds="False"
            Width="155" Background="{DynamicResource BgCard}" Padding="8">
        <StackPanel Spacing="6">
            <!-- Cover image -->
            <Border Height="210" Background="{DynamicResource BgBase}" CornerRadius="{DynamicResource RadiusS}"
                    ClipToBounds="True">
                <Panel>
                    <Image x:Name="CoverImage" Stretch="UniformToFill"/>
                    <TextBlock x:Name="CoverPlaceholder"
                               Text="?"
                               Foreground="{DynamicResource TextSecondary}" FontSize="36" Opacity="0.3"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"/>

                    <!-- Seasons badge overlay -->
                    <Border x:Name="SeasonsBadge"
                            Background="{DynamicResource AccentPrimary}"
                            CornerRadius="0,0,0,8"
                            Padding="8,4"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            IsVisible="False">
                        <TextBlock x:Name="SeasonsText"
                                   Text="2 Seasons"
                                   FontSize="10" FontWeight="Bold"
                                   Foreground="White"/>
                    </Border>
                    
                    <!-- Progress bar overlay (for Continue Watching) -->
                    <ProgressBar x:Name="WatchProgressBar"
                                 VerticalAlignment="Bottom"
                                 Height="4"
                                 Minimum="0" Maximum="100" Value="50"
                                 Foreground="{DynamicResource AccentPrimary}"
                                 Background="#44FFFFFF"
                                 IsVisible="False"/>
                </Panel>
            </Border>
            
            <!-- Title -->
            <TextBlock x:Name="TitleText"
                       Text="Series Title"
                       FontSize="13" FontWeight="SemiBold"
                       Foreground="{DynamicResource TextPrimary}"
                       TextTrimming="CharacterEllipsis"
                       MaxLines="2"
                       LineHeight="16"/>
            
            <!-- Subtitle / Episode count -->
            <TextBlock x:Name="SubtitleText"
                       Text=""
                       FontSize="11"
                       Foreground="{DynamicResource TextSecondary}"
                       Opacity="0.6"
                       TextTrimming="CharacterEllipsis"/>
        </StackPanel>
    </Border>
</UserControl>
